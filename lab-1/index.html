<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>DVD Screensaver</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.6.0/p5.min.js"></script>
  <style>
    body { margin: 0; overflow: hidden; background: black; }
    canvas { display: block; }
  </style>
</head>
<body>
<script>
let img;
let x, y;
let xSpeed = 1.5;
let ySpeed = 1.0;
let imgWidth = 150;
let imgHeight = 150;

const aboutProgram = "Screen saver v1.3";
const author = "Purshak Illa IPZ-42";

const labelSize = 24;
let labelH = 0;

function preload() {
  img = loadImage("assets/logo.webp", loaded => {
    imgHeight = (loaded.height / loaded.width) * imgWidth;
  });
}

function setup() {
  createCanvas(windowWidth, windowHeight);
  textSize(labelSize);
  textAlign(CENTER, TOP);
  noStroke();
  labelH = textAscent() + textDescent() + 6;

  x = random(0, max(1, width - imgWidth));
  y = random(0, max(1, height - imgHeight - labelH));
}

function draw() {
  background(0);

  image(img, x, y, imgWidth, imgHeight);

  fill(255);
  text(aboutProgram, x + imgWidth / 2, y + imgHeight + 5);
  text(author, x + imgWidth / 2, y + imgHeight + 29);

  x += xSpeed;
  y += ySpeed;

  if (x <= 0 || x + imgWidth >= width) xSpeed *= -1;
  if (y <= 0 || y + imgHeight + labelH >= height) ySpeed *= -1;
}

function windowResized() {
  resizeCanvas(windowWidth, windowHeight);
  
  x = constrain(x, 0, max(0, width - imgWidth));
  y = constrain(y, 0, max(0, height - imgHeight - labelH));
}
</script>

</body>
</html>
